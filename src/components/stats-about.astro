---
import Counter from '@/components/counter.tsx';
import { getCollection } from 'astro:content';

const about = await getCollection('about');

const stats = [
  {
    icon: `<svg
      xmlns="http://www.w3.org/2000/svg"
      width="40"
      height="40"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
      <line x1="16" x2="16" y1="2" y2="6" />
      <line x1="8" x2="8" y1="2" y2="6" />
      <line x1="3" x2="21" y1="10" y2="10" />
    </svg>`,
    number: about[0].data.years,
    suffix: '',
    text: 'Let zkušeností',
  },
  {
    icon: `<svg
      xmlns="http://www.w3.org/2000/svg"
      width="40"
      height="40"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
      <polyline points="9 22 9 12 15 12 15 22" />
    </svg>`,
    number: about[0].data.estates,
    suffix: '+',
    text: 'Zobchodovaných nemovitostí',
  },
  {
    icon: `<svg
      xmlns="http://www.w3.org/2000/svg"
      width="40"
      height="40"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
      <circle cx="9" cy="7" r="4" />
      <polyline points="16 11 18 13 22 9" />
    </svg>`,
    number: about[0].data.clients,
    suffix: '+',
    text: 'Spokojených klientů',
  },
];
---

<section class="-translate-y-1/2">
  <div class="mx-auto max-w-6xl px-4 sm:px-6">
    <div class="mx-auto max-w-3xl">
      <div class="bg-slate-600 py-3 shadow-xl sm:py-6">
        <ul class="flex">
          {
            stats.map(stat => (
              <li class="relative w-1/3 px-1 text-center after:absolute after:right-0 after:top-1/2 after:hidden after:h-16 after:w-0.5 after:-translate-y-1/2 after:translate-x-px after:bg-blue-500 last:after:hidden sm:after:block">
                <div class="mb-2 font-cabinet-grotesk text-4xl font-bold text-white md:text-5xl">
                  <Counter number={stat.number} client:load /> {stat.suffix}
                </div>
                <div class="text-xs font-medium text-blue-200 sm:text-sm md:text-base">
                  {stat.text}
                </div>
              </li>
            ))
          }
        </ul>
      </div>
    </div>
  </div>
</section>
